/* =============================================================================
   Global Styles - Brand Analytics
   =============================================================================
   Modern, publication-quality design system inspired by a16z reports,
   Bloomberg Terminal, and Linear App. Neutral, data-forward aesthetic.
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Font Imports - Geist (Modern, Neutral, Highly Readable)
   ----------------------------------------------------------------------------- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* -----------------------------------------------------------------------------
   Design Tokens - CSS Custom Properties
   ----------------------------------------------------------------------------- */
@layer base {
  :root {
    /* -------------------------------------------------------------------------
       Color System - Neutral Slate Palette
       ------------------------------------------------------------------------- */
    --background: 250 250 250;
    --foreground: 15 23 42;
    --card: 255 255 255;
    --card-foreground: 15 23 42;
    --popover: 255 255 255;
    --popover-foreground: 15 23 42;
    --primary: 15 23 42;
    --primary-foreground: 250 250 250;
    --secondary: 241 245 249;
    --secondary-foreground: 15 23 42;
    --muted: 241 245 249;
    --muted-foreground: 100 116 139;
    --accent: 241 245 249;
    --accent-foreground: 15 23 42;
    --border: 226 232 240;
    --input: 226 232 240;
    --ring: 15 23 42;
    --radius: 0.75rem;

    /* -------------------------------------------------------------------------
       Semantic Colors - Score/Status Indicators
       ------------------------------------------------------------------------- */
    --chart-excellent: 16 185 129;   /* emerald-500 - 80-100 */
    --chart-good: 34 197 94;         /* green-500 - 70-79 */
    --chart-average: 234 179 8;      /* yellow-500 - 60-69 */
    --chart-poor: 249 115 22;        /* orange-500 - 50-59 */
    --chart-critical: 239 68 68;     /* red-500 - 0-49 */
    --chart-benchmark: 148 163 184;  /* slate-400 */
    --chart-primary: 59 130 246;     /* blue-500 */
    --chart-secondary: 99 102 241;   /* indigo-500 */

    /* -------------------------------------------------------------------------
       Spacing Scale - Consistent Rhythm
       ------------------------------------------------------------------------- */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --space-16: 4rem;

    /* -------------------------------------------------------------------------
       Typography Scale
       ------------------------------------------------------------------------- */
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-mono: 'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace;

    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
    --text-5xl: 3rem;

    /* -------------------------------------------------------------------------
       Shadows - Subtle Depth
       ------------------------------------------------------------------------- */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  }

  /* Dark mode support (optional, for future) */
  .dark {
    --background: 15 23 42;
    --foreground: 248 250 252;
    --card: 30 41 59;
    --card-foreground: 248 250 252;
    --border: 51 65 85;
  }

  * {
    @apply border-slate-200;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-slate-50 text-slate-900 antialiased;
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* -----------------------------------------------------------------------------
   Component Styles
   ----------------------------------------------------------------------------- */
@layer components {
  /* -------------------------------------------------------------------------
     Buttons
     ------------------------------------------------------------------------- */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 
           bg-slate-900 text-white text-sm font-medium rounded-lg
           transition-all duration-200 ease-out
           hover:bg-slate-800 hover:shadow-lg
           focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 
           bg-white text-slate-700 text-sm font-medium rounded-lg
           border border-slate-200
           transition-all duration-200 ease-out
           hover:bg-slate-50 hover:border-slate-300
           focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 
           text-slate-600 text-sm font-medium rounded-lg
           transition-all duration-200 ease-out
           hover:bg-slate-100 hover:text-slate-900
           focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2;
  }

  /* -------------------------------------------------------------------------
     Cards
     ------------------------------------------------------------------------- */
  .card {
    @apply bg-white rounded-xl border border-slate-200;
  }

  .card-elevated {
    @apply bg-white rounded-xl border border-slate-200 shadow-sm;
  }

  .card-interactive {
    @apply bg-white rounded-xl border border-slate-200 shadow-sm
           transition-all duration-200 ease-out
           hover:shadow-md hover:border-slate-300;
  }

  /* -------------------------------------------------------------------------
     Report-Specific Layouts
     ------------------------------------------------------------------------- */
  .report-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .report-section {
    @apply py-8 border-b border-slate-100 last:border-b-0;
  }

  .report-section-header {
    @apply flex items-center justify-between mb-6;
  }

  .report-section-title {
    @apply text-lg font-semibold text-slate-900;
  }

  /* -------------------------------------------------------------------------
     Score Badges - Semantic Colors Based on Score Range
     ------------------------------------------------------------------------- */
  .score-excellent {
    @apply bg-emerald-50 text-emerald-700 border-emerald-200;
  }

  .score-good {
    @apply bg-green-50 text-green-700 border-green-200;
  }

  .score-average {
    @apply bg-yellow-50 text-yellow-700 border-yellow-200;
  }

  .score-poor {
    @apply bg-orange-50 text-orange-700 border-orange-200;
  }

  .score-critical {
    @apply bg-red-50 text-red-700 border-red-200;
  }

  /* -------------------------------------------------------------------------
     Priority/Severity Badges
     ------------------------------------------------------------------------- */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-critical {
    @apply bg-red-100 text-red-800;
  }

  .badge-high {
    @apply bg-orange-100 text-orange-800;
  }

  .badge-medium {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-low {
    @apply bg-slate-100 text-slate-700;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800;
  }

  /* -------------------------------------------------------------------------
     Metric Cards Grid
     ------------------------------------------------------------------------- */
  .metrics-grid {
    @apply grid grid-cols-2 md:grid-cols-4 gap-4;
  }

  .metric-card {
    @apply bg-white rounded-lg border border-slate-200 p-4;
  }

  .metric-value {
    @apply text-2xl font-bold text-slate-900;
  }

  .metric-label {
    @apply text-sm text-slate-500 mt-1;
  }

  /* -------------------------------------------------------------------------
     Gradient Effects
     ------------------------------------------------------------------------- */
  .gradient-text {
    @apply bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 
           bg-clip-text text-transparent;
  }

  .gradient-border {
    @apply relative;
    background: linear-gradient(white, white) padding-box,
                linear-gradient(135deg, #e2e8f0, #94a3b8) border-box;
    border: 1px solid transparent;
  }

  /* -------------------------------------------------------------------------
     Data Visualization Helpers
     ------------------------------------------------------------------------- */
  .chart-container {
    @apply w-full h-64 md:h-80;
  }

  .chart-legend {
    @apply flex flex-wrap gap-4 mt-4 text-sm;
  }

  .chart-legend-item {
    @apply flex items-center gap-2;
  }

  .chart-legend-dot {
    @apply w-3 h-3 rounded-full;
  }
}

/* -----------------------------------------------------------------------------
   Utility Classes
   ----------------------------------------------------------------------------- */
@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Tabular numbers for data */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Gradient mask for fade effects */
  .mask-fade-bottom {
    mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
  }
}

/* -----------------------------------------------------------------------------
   Animations
   ----------------------------------------------------------------------------- */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out forwards;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out forwards;
}

.animate-pulse-subtle {
  animation: pulse-subtle 2s ease-in-out infinite;
}

/* Staggered children animation */
.stagger-children > * {
  animation: fadeIn 0.4s ease-out forwards;
  opacity: 0;
}

.stagger-children > *:nth-child(1) { animation-delay: 0.05s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.1s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.15s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.2s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.25s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.3s; }
.stagger-children > *:nth-child(7) { animation-delay: 0.35s; }
.stagger-children > *:nth-child(8) { animation-delay: 0.4s; }

/* -----------------------------------------------------------------------------
   Print Styles - Publication Quality PDF Export
   ----------------------------------------------------------------------------- */
@media print {
  /* Reset for print */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  body {
    background: white !important;
    font-size: 11pt;
    line-height: 1.4;
  }

  /* Hide non-essential elements */
  .no-print,
  button,
  .btn-primary,
  .btn-secondary,
  nav,
  header button,
  [data-print="hide"] {
    display: none !important;
  }

  /* Page breaks */
  .report-section {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .page-break-before {
    break-before: page;
    page-break-before: always;
  }

  .page-break-after {
    break-after: page;
    page-break-after: always;
  }

  /* Card styling for print */
  .card,
  .card-elevated {
    border: 1px solid #e2e8f0 !important;
    box-shadow: none !important;
  }

  /* Charts sizing for print */
  .chart-container {
    height: 250px !important;
    max-width: 100% !important;
  }

  /* Links show URL */
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #64748b;
  }

  /* Page margins */
  @page {
    margin: 0.75in;
    size: letter;
  }

  /* First page header */
  @page :first {
    margin-top: 0.5in;
  }
}

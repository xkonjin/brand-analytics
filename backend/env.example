# =============================================================================
# Brand Analytics - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your API keys
# 
# QUICK START:
#   cp env.example .env
#   # Edit .env and add at minimum: OPENAI_API_KEY
# =============================================================================

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME="Brand Analytics API"
APP_VERSION="0.1.0"
DEBUG=true
ENVIRONMENT=development

# =============================================================================
# Security Settings (IMPORTANT for production)
# =============================================================================
# CORS allowed origins (comma-separated for multiple)
# Development: http://localhost:3000,http://127.0.0.1:3000
# Production:  https://your-frontend-domain.com
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Allowed hosts for Host header validation
# Development: localhost,127.0.0.1
# Production:  your-api-domain.com,api.your-domain.com
ALLOWED_HOSTS=localhost,127.0.0.1

# Enable API documentation (/docs, /redoc)
# Set to false in production unless needed
ENABLE_DOCS=true

# Enable detailed error messages in responses
# MUST be false in production (prevents information leakage)
ENABLE_DEBUG_ERRORS=true

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string (asyncpg driver for async support)
# For Docker: postgresql+asyncpg://postgres:postgres@postgres:5432/brand_analytics
# For Local:  postgresql+asyncpg://postgres:postgres@localhost:5432/brand_analytics
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/brand_analytics

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis is used for caching and as Celery message broker
# For Docker: redis://redis:6379/X
# For Local:  redis://localhost:6379/X
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# API Keys - REQUIRED for full functionality
# =============================================================================

# OpenAI API Key (REQUIRED for brand archetype & tone analysis)
# Get your key at: https://platform.openai.com/api-keys
# Without this key: Brand analysis will use basic heuristics instead of AI
OPENAI_API_KEY=

# OpenAI Model (optional, defaults to gpt-4-turbo-preview)
# OPENAI_MODEL=gpt-4-turbo-preview

# =============================================================================
# API Keys - RECOMMENDED for complete analysis
# =============================================================================

# Google API Key (for PageSpeed Insights & Custom Search)
# Get your key at: https://console.cloud.google.com/apis/credentials
# Enable APIs: PageSpeed Insights API, Custom Search API
# Without this key: SEO analysis will use mock performance data
GOOGLE_API_KEY=

# Google Custom Search Engine ID (for indexing & SERP analysis)
# Create at: https://programmablesearchengine.google.com/
# Without this: AI discoverability will have limited SERP data
GOOGLE_SEARCH_ENGINE_ID=

# =============================================================================
# API Keys - OPTIONAL (enhance social media analysis)
# =============================================================================

# Twitter/X API Bearer Token (for social media metrics)
# Get at: https://developer.twitter.com/en/portal/dashboard
# Without this: Twitter analysis will use estimated metrics
TWITTER_BEARER_TOKEN=

# Apify API Token (for advanced social scraping)
# Get at: https://console.apify.com/account/integrations
# Without this: Social scraping uses basic methods
APIFY_API_TOKEN=

# Clearbit API Key (for company logo fetching)
# Get at: https://clearbit.com/
# Without this: Logos extracted from website favicon
CLEARBIT_API_KEY=

# =============================================================================
# Storage Configuration (Optional - for PDF report storage)
# =============================================================================
# S3-compatible storage for generated PDF reports
# Leave empty to store PDFs locally only
S3_BUCKET_NAME=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_ENDPOINT_URL=
S3_REGION=auto

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Sentry DSN for error tracking (get from sentry.io)
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# JSON logs for production (true), colored console for dev (false)
LOG_JSON=false

# =============================================================================
# Analysis Settings (Optional - tune performance)
# =============================================================================
# Maximum time for complete analysis (seconds)
# ANALYSIS_TIMEOUT=300

# Weights for overall score calculation (must sum to 1.0)
# WEIGHT_SEO=0.15
# WEIGHT_SOCIAL_MEDIA=0.20
# WEIGHT_BRAND_MESSAGING=0.15
# WEIGHT_WEBSITE_UX=0.15
# WEIGHT_AI_DISCOVERABILITY=0.10
# WEIGHT_CONTENT=0.10
# WEIGHT_TEAM_PRESENCE=0.10
# WEIGHT_CHANNEL_FIT=0.05
